/**
 * UI Component For Creating Cron Job Syntax To Send To Server
 * @version v2.0.0 - 2016-07-05 * @link https://github.com/jacobscarter/angular-cron-jobs
 * @author Jacob Carter <jacob@ieksolutions.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("templates-angularcronjobs",["cronselection.html"]),angular.module("cronselection.html",[]).run(["$templateCache",function(a){a.put("cronselection.html",'<div class="cron-wrap">\n    <span>Every: </span>\n    <div class="cron-select-wrap">\n        <select class="cron-select" ng-model="myFrequency.base" ng-options="item.value as item.label for item in frequency"></select>\n    </div>\n    <div class="select-options">\n        <span ng-show="myFrequency.base == 4">on </span>\n        <div ng-show="myFrequency.base == 4" class="cron-select-wrap">\n            <!-- If Multiple is Enabled -->\n            <select class="cron-select day-value" ng-model="myFrequency.dayValues" ng-if="allowMultiple" multiple>\n                <option ng-repeat="value in dayValues" ng-selected="myFrequency.dayValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value | cronDayName}}\n                </option>\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select day-value" ng-model="myFrequency.dayValues" ng-if="!allowMultiple">\n                <option ng-repeat="value in dayValues" ng-selected="myFrequency.dayValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value | cronDayName}}\n                </option>\n            </select>\n        </div>\n        <span ng-show="myFrequency.base >= 5">on the </span>\n        <div ng-show="myFrequency.base >= 5" class="cron-select-wrap">\n            <!-- If Multiple is Enabled -->\n            <select class="cron-select day-of-month-value" ng-model="myFrequency.dayOfMonthValues" ng-if="allowMultiple" multiple>\n                <option ng-repeat="value in dayOfMonthValues" ng-selected="myFrequency.dayOfMonthValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value | cronNumeral}}\n                </option>\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select day-of-month-value" ng-model="myFrequency.dayOfMonthValues" ng-if="!allowMultiple">\n                <option ng-repeat="value in dayOfMonthValues" ng-selected="myFrequency.dayOfMonthValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value | cronNumeral}}\n                </option>\n            </select>\n        </div>\n        <span ng-show="myFrequency.base == 6">of </span>\n        <!-- If Multiple is Enabled -->\n        <div ng-show="myFrequency.base == 6" class="cron-select-wrap">\n            <select class="cron-select month-value" ng-model="myFrequency.monthValues" ng-if="allowMultiple" multiple>\n                <option ng-repeat="value in monthValues" ng-selected="myFrequency.monthValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value | cronMonthName}}\n                </option>\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select month-value" ng-model="myFrequency.monthValues" ng-if="!allowMultiple">\n                <option ng-repeat="value in monthValues" ng-selected="myFrequency.monthValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value | cronMonthName}}\n                </option>\n            </select>\n        </div>\n        <span ng-show="myFrequency.base >= 2">at </span>\n        <!-- If Multiple is Enabled -->\n        <div ng-show="myFrequency.base >= 3" class="cron-select-wrap">\n            <select class="cron-select hour-value" ng-model="myFrequency.hourValues" ng-if="allowMultiple" multiple>\n                <option ng-repeat="value in hourValues" ng-selected="myFrequency.hourValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value}}\n                </option>\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select hour-value" ng-model="myFrequency.hourValues" ng-if="!allowMultiple">\n                <option ng-repeat="value in hourValues" ng-selected="myFrequency.hourValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value}}\n                </option>\n            </select>\n        </div>\n        <span ng-show="myFrequency.base >= 3"> : </span>\n        <!-- If Multiple is Enabled -->\n        <div ng-show="myFrequency.base >= 2" class="cron-select-wrap">\n            <select class="cron-select minute-value" ng-model="myFrequency.minuteValues" ng-if="allowMultiple" multiple>\n                <option ng-repeat="value in minuteValues" ng-selected="myFrequency.minuteValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value}}\n                </option>\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select minute-value" ng-model="myFrequency.minuteValues" ng-if="!allowMultiple">\n                <option ng-repeat="value in minuteValues" ng-selected="myFrequency.minuteValues.indexOf(value) >= 0" value="{{value}}">\n                    {{value}}\n                </option>\n            </select>\n        </div>\n        <span ng-show="myFrequency.base == 2"> past the hour</span>\n    </div>\n</div>\n')}]),angular.module("angular-cron-jobs",["templates-angularcronjobs"]),angular.module("angular-cron-jobs").directive("cronSelection",["cronService",function(a){return{restrict:"EA",replace:!0,transclude:!0,require:"ngModel",scope:{ngModel:"=",config:"=",myFrequency:"=?frequency"},templateUrl:function(a,b){return b.template||"cronselection.html"},link:function(b,c,d,e){function f(a){a.base=parseInt(a.base),a.base>=2&&(a.minuteValues=b.minuteValues[0]),a.base>=3&&(a.hourValues=b.hourValues[0]),4===a.base&&(a.dayValues=b.dayValues[0]),a.base>=5&&(a.dayOfMonthValues=b.dayOfMonthValues[0]),6===a.base&&(a.monthValues=b.monthValues[0])}var g=!1;if(b.frequency=[{value:1,label:"Minute"},{value:2,label:"Hour"},{value:3,label:"Day"},{value:4,label:"Week"},{value:5,label:"Month"},{value:6,label:"Year"}],b.$watch("ngModel",function(c){angular.isDefined(c)&&c?(g=!0,b.myFrequency=a.fromCron(c)):""===c&&(b.myFrequency=void 0)}),"object"==typeof b.config&&!b.config.length){if("object"==typeof b.config.options){var h=Object.keys(b.config.options);for(var i in h){var j=h[i].replace(/^allow/,""),k=h[i];if(!b.config.options[k])for(var l in b.frequency)b.frequency[l].label===j&&b.frequency.splice(l,1)}}angular.isDefined(b.config.allowMultiple)?b.allowMultiple=b.config.allowMultiple:b.allowMultiple=!1}b.minuteValues=[0,5,10,15,20,25,30,35,40,45,50,55],b.hourValues=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],b.dayOfMonthValues=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],b.dayValues=[0,1,2,3,4,5,6],b.monthValues=[1,2,3,4,5,6,7,8,9,10,11,12],b.$watch("myFrequency",function(b,c){if(void 0!==b){!b||!b.base||c&&b.base===c.base||g?b&&b.base&&c&&c.base&&(g=!1):f(b);var d=a.setCron(b);e.$setViewValue(d)}},!0)}}}]).filter("cronNumeral",function(){return function(a){switch(a){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";case 21:return"21st";case 22:return"22nd";case 23:return"23rd";case 31:return"31st";case null:return null;default:return a+"th"}}}).filter("cronMonthName",function(){return function(a){var b={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};return null!==a&&angular.isDefined(b[a])?b[a]:null}}).filter("cronDayName",function(){return function(a){var b={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return null!==a&&angular.isDefined(b[a])?b[a]:null}}),angular.module("angular-cron-jobs").factory("cronService",function(){var a={};return a.setCron=function(a){var b=["*","*","*","*","*"];return a&&a.base&&a.base>=2&&(b[0]="undefined"!=typeof a.minuteValues?a.minuteValues:"*"),a&&a.base&&a.base>=3&&(b[1]="undefined"!=typeof a.hourValues?a.hourValues:"*"),a&&a.base&&4===a.base&&(b[4]=a.dayValues),a&&a.base&&a.base>=5&&(b[2]="undefined"!=typeof a.dayOfMonthValues?a.dayOfMonthValues:"*"),a&&a.base&&6===a.base&&(b[3]="undefined"!=typeof a.monthValues?a.monthValues:"*"),b.join(" ")},a.fromCron=function(a){var b=a.replace(/\s+/g," ").split(" "),c={base:"1"};if("*"===b[0]&&"*"===b[1]&&"*"===b[2]&&"*"===b[3]&&"*"===b[4]?c.base=1:"*"===b[1]&&"*"===b[2]&&"*"===b[3]&&"*"===b[4]?c.base=2:"*"===b[2]&&"*"===b[3]&&"*"===b[4]?c.base=3:"*"===b[2]&&"*"===b[3]?c.base=4:"*"===b[3]&&"*"===b[4]?c.base=5:"*"===b[4]&&(c.base=6),"*"!==b[0])if(b[0].indexOf(",")>=0){for(var d=b[0].split(","),e=0;e<d.length;e++)d[e]=+d[e];c.minuteValues=d}else c.minuteValues=[parseInt(b[0])];if("*"!==b[1])if(b[1].indexOf(",")>=0){for(var d=b[1].split(","),e=0;e<d.length;e++)d[e]=+d[e];c.hourValues=d}else c.hourValues=[parseInt(b[1])];if("*"!==b[2])if(b[2].indexOf(",")>=0){for(var d=b[2].split(","),e=0;e<d.length;e++)d[e]=+d[e];c.dayOfMonthValues=d}else c.dayOfMonthValues=[parseInt(b[2])];if("*"!==b[3])if(b[3].indexOf(",")>=0){for(var d=b[3].split(","),e=0;e<d.length;e++)d[e]=+d[e];c.monthValues=d}else c.monthValues=[parseInt(b[3])];if("*"!==b[4])if(b[4].indexOf(",")>=0){for(var d=b[4].split(","),e=0;e<d.length;e++)d[e]=+d[e];c.dayValues=d}else c.dayValues=[parseInt(b[4])];return c},a});